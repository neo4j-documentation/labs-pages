= Neo4j Vector Index and Search
:slug: vector-search
:author: 
:category: genai-ecosystem
:tags: vector index, vector search, embeddings, neo4j
:neo4j-versions: 5.11+
:page-pagination:
:page-product: neo4j

image::https://dist.neo4j.com/wp-content/uploads/20230821135317/Grounding-LLM-Responses-with-Implicit-and-Explicit-Search-Through-Neo4js-Knowledge-Graph-2048x1152.png[width=800]

The Neo4j Vector index implements HNSW (Hierarchical Navigatable Small World) for creating layers of k-nearest neighbors to enable efficient and robust approximate nearest neighbor search. 
The index is designed to work with embeddings, such as those generated by machine learning models, and can be used to find similar nodes in a graph based on their embeddings.

== Installation

[source,cypher]
----
// create vector index
CREATE VECTOR INDEX `abstract-embeddings`
FOR (n: Abstract) ON (n.embedding)
OPTIONS {indexConfig: {
 `vector.dimensions`: 1536,
 `vector.similarity_function`: 'cosine'
}};

// set embedding
MATCH (n:Node {id: $id})
CALL db.create.setNodeVectorProperty(n, 'propertyKey', $vector)
RETURN n


// query vector index
MATCH (title:Title)<--(:Paper)-->(abstract:Abstract)
WHERE toLower(title.text) = 'efficient and robust approximate nearest neighbor search using
  hierarchical navigable small world graphs'

CALL db.index.vector.queryNodes('abstract-embeddings', 10, abstract.embedding)
YIELD node AS similarAbstract, score

MATCH (similarAbstract)<--(:Paper)-->(similarTitle:Title)
RETURN similarTitle.text AS title, score;
----

== Functionality Includes

* Create a vector index with a specified number of dimensions and similarity function (euclidean, cosine)
* Query vector index with embedding and top-k, returning nodes and similarity score
* Functions to compute text vector embeddings with OpenAI, AWS Bedrock, Google Vertex AI, and other ML platforms 

== Documentation

== Relevant Links
[cols="1,4"]
|===
| icon:user[] Authors | Neo4j Engineering
| icon:comments[] Community Support | https://community.neo4j.com/[Neo4j Online Community^]
| icon:github[] Repository | https://github.com/neo4j/neo4j[GitHub]
| icon:github[] Issues | https://github.com/neo4j/neo4j/issues
| icon:book[] Documentation | https://neo4j.com/docs/cypher-manual/current/indexes/semantic-indexes/vector-indexes/
|===


== Videos & Tutorials

++++
<iframe width="560" height="315" src="https://www.youtube.com/embed/bRD09ndyJNs?si=jtFV39xD6YkbjmuG" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
++++

== Highlighted Articles

* https://neo4j.com/blog/vector-search-deeper-insights/[​​Neo4j’s Vector Search: Unlocking Deeper Insights for AI-Powered Applications^]
* https://www.linkedin.com/pulse/vector-indexing-plus-knowledge-graphs-neo4j-jeff-tallman-ayxve/[Vector Indexing plus Knowledge Graphs in Neo4j^]
* https://medium.com/@therobbrennan/explore-openai-vector-embedding-with-neo4j-6ea2a40693d9[Explore OpenAI Vector Embedding with Neo4j^]
* https://medium.com/neo4j/youtube-transcripts-knowledge-graphs-for-rag-applications-2cc790543d4b[YouTube Transcripts Into Knowledge Graphs for RAG Applications]
